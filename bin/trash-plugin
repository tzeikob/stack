#!/usr/bin/env bash

clear

loop="true"

while [[ $loop = "true" ]]; do
  echo -e "Select a trash operation:"
  read -p "(l)ist (e)mpty (r)estore re(m)ove (q)uit: " reply

  while [[ ! $reply =~ ^(l|e|r|m|q)$ ]]; do
    read -p "Please enter a valid operation: " reply
  done

  echo ""

  if [[ $reply == "q" ]]; then
    loop="false"
  elif [[ $reply == "l" ]]; then
    trash-list
  elif [[ $reply == "e" ]]; then
    trash-empty
  elif [[ $reply == "r" ]]; then
    trash-restore
  elif [[ $reply == "m" ]]; then
    read -p "Enter the file(s) to remove (blank to cancel): " files

    if [[ ! -z $files ]]; then
      trash-rm $files
    fi
  fi

  echo ""
done

clear
